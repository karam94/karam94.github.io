<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Hello, world! - Karam.io</title><meta name="gridsome:hash" content="609c449f7566d67d3cb4d8fe84a7a2641ad0f6e8"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="I like writing code &amp; playing football. I&#x27;m terrible at both."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.fcfd982a4fc064582a158198eac8650c.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.fcfd982a4fc064582a158198eac8650c.png"><link rel="preload" href="/assets/css/0.styles.7e3a9afe.css" as="style"><link rel="preload" href="/assets/js/app.a3270956.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--tag-vue.1dc429fa.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.d1a22b1b.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.e83e08a5.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.908579a4.js"><link rel="prefetch" href="/assets/js/page--src--pages--reading-vue.f0ca23e8.js"><link rel="prefetch" href="/assets/js/page--src--pages--speaking-vue.7baedc90.js"><link rel="prefetch" href="/assets/js/page--src--templates--post-vue.4ba5e1d2.js"><link rel="stylesheet" href="/assets/css/0.styles.7e3a9afe.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text"> ← Karam.io </span></a></div><div class="header__right"><div class="header__right__menu"><a href="/about/">About</a><a href="/reading/">Reading</a><a href="/speaking/">Speaking</a></div><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><h1 class="tag-title text-center space-bottom"># Scripts</h1><div class="posts"><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h3 class="post-card__title">Removing conflicted copies on Dropbox</h3><div class="post-tags post-card__tags"></div><a href="/blog/2017/removing-conflicted-copies-on-dropbox/" class="post-card__link">Link</a></div></div></div></main><footer class="footer"><span>Made with
      <span style="color: red"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-heart fa-w-16"><path fill="currentColor" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path></svg></span>
      in wet &amp; rainy
      <a href="//en.wikipedia.org/wiki/Lancashire" target="_blank">Lancashire</a>!</span><br><span>© Copyright 2021 -
      <a href="//karam.io">Karam.io</a></span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"tag":{"title":"Scripts","belongsTo":{"edges":[{"node":{"title":"Removing conflicted copies on Dropbox","path":"\u002Fblog\u002F2017\u002Fremoving-conflicted-copies-on-dropbox\u002F","date":"9. March 2017","timeToRead":2,"description":"As someone who uses Dropbox on pretty much all the different gazillion devices I own, I came across a rather frustrating issue. For some reason, almost every time my Macbook Pro would try to synchronise files modified on one of my Windows devices with Dropbox, meaning the older versions still on my Macbook would need updating, I'd end up with a 'conflicted copy' version of that file being generated by Dropbox.","content":"\u003Cp\u003EAs someone who uses Dropbox on pretty much all the different gazillion devices I own, I came across a rather frustrating issue.\u003C\u002Fp\u003E\n\u003Cp\u003EFor some reason, almost every time my Macbook Pro would try to synchronise files modified on one of my Windows devices with Dropbox, meaning the older versions still on my Macbook would need updating, I'd end up with a 'conflicted copy' version of that file being generated by Dropbox.\u003C\u002Fp\u003E\n\u003Cp\u003EI haven't bothered tracing the exact reasons as to why this seems to constantly occur, but according to Dropbox it happens when more than one device are modifying the same file... which is never really the case when these files do crop up.\u003C\u002Fp\u003E\n\u003Cp\u003ENow, for obvious reasons this was really annoying because not only did it take up more storage space but as someone who can be quite OCD in terms of having minimal, clean folder structures, it made my Dropbox directories look incredibly messy.\u003C\u002Fp\u003E\n\u003Cp\u003EAfter some investigation, it became clear that the non-conflicted copies were in fact mostly identical to the most up to date versions of the files. It was also brought to my attention that the conflicted copies were being generated in the background every time a Dropbox sync happened on my Macbook Pro. I'm talking thousands of files almost every time a synchronisation happened... so it certainly wasn't a case of having all of these files open or being modified simultaneously. I've also formatted my Macbook Pro numerous time also and the problem never seemed to die down.\u003C\u002Fp\u003E\n\u003Cp\u003ESo, I thought it was about time I came up with an automated solution of some sort to solve this issue. A bash script was the obvious solution that I can run every month or so to clean out the files. Not an ideal solution, but it gets the job done, right?\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token builtin class-name\"\u003Ecd\u003C\u002Fspan\u003E \u002FYourDropboxLocation\u002FDropbox\u002F\n\u003Cspan class=\"token function\"\u003Efind\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003E.\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Egrep\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"conflicted copy\"\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ewhile\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003Eread\u003C\u002Fspan\u003E i\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edo\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003Eecho\u003C\u002Fspan\u003E \u003Cspan class=\"token variable\"\u003E$i\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E\\\u003C\u002Fspan\u003Erm \u003Cspan class=\"token string\"\u003E\"\u003Cspan class=\"token variable\"\u003E$i\u003C\u002Fspan\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edone\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe script is pretty straight forward. It simply runs in the root Dropbox directory, looks for all files which match the text \"conflicted copy\" using the grep command, pipes the files to a loop which iterates through all the found files and removes each and every single one.\u003C\u002Fp\u003E\n\u003Cp\u003ENow, the obvious hiccup occurs during the grep search command, where if we happened to have non Dropbox generated conflicted copy files (e.g. a file we have purposely called conflicted copy for some reason that isn't actually a Dropbox conflicted copy we want to delete) then that would get picked up as well and deleted. But other than that, I'd assume the chances of this occurring are incredibly slim.\u003C\u002Fp\u003E\n\u003Cp\u003EIn conclusion, I'm sure I'm not the only one with this issue and hopefully this little script helps you out :)\u003C\u002Fp\u003E\n"}}]}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.a3270956.js" defer></script><script src="/assets/js/page--src--templates--tag-vue.1dc429fa.js" defer></script>
  </body>
</html>