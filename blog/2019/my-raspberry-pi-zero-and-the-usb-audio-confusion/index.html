<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>My Raspberry Pi Zero &amp; the USB Audio Confusion - Karam.io</title><meta name="gridsome:hash" content="6fe372bab11d0fceef4dd394fd3b9f44e24d1db3"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="I like writing code &amp; playing football. I&#x27;m terrible at both."><meta data-vue-tag="ssr" name="description" content="So... I won a free Raspberry Pi Zero from Google! Then I bought some USB speakers for it and chaos ensued!"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.fcfd982a4fc064582a158198eac8650c.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.fcfd982a4fc064582a158198eac8650c.png"><link rel="preload" href="/assets/css/0.styles.7e3a9afe.css" as="style"><link rel="preload" href="/assets/js/app.24c85096.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.4ba5e1d2.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.d1a22b1b.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.b755caf4.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.9160a3aa.js"><link rel="prefetch" href="/assets/js/page--src--pages--reading-vue.06d29e12.js"><link rel="prefetch" href="/assets/js/page--src--pages--speaking-vue.ad8cd608.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.5abffd0b.js"><link rel="stylesheet" href="/assets/css/0.styles.7e3a9afe.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text"> ‚Üê Karam.io </span></a></div><div class="header__right"><div class="header__right__menu"><a href="/about/">About</a><a href="/reading/">Reading</a><a href="/speaking/">Speaking</a></div><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      My Raspberry Pi Zero &amp; the USB Audio Confusion
    </h1><div class="post-meta">17 February 2019 - 4 mins</div></div><div class="post content-box__post"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 860 484' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-5b291a26f13b3980c77f28e7c0d33083'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-5b291a26f13b3980c77f28e7c0d33083)' width='860' height='484' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAkAEADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAABwACBAUGAwj/xAAyEAACAQMCBAUCBAcBAAAAAAABAgMEBREAIQYSMWEHEyJBUXGRFDNSgRUjMjSCkrHR/8QAGAEAAwEBAAAAAAAAAAAAAAAAAQIDBAD/xAAjEQACAgEEAQUBAAAAAAAAAAABAgARAwQhMUESIlFhseHw/9oADAMBAAIRAxEAPwCu8SeJbbbaethhqoBVU3L5wDevLH8uMfrxkk9FHcjXnaouM1VXSzRxohcnlVRsg7Z/7pt0uNRdarzJuUHAAVRgDv8AX5OptrocYZhk65RURiO5ztttmmqYwf65GCj6k40T%2bJLPTy08UdrooVMDMjYUIWChR/lg5JY4O/wNZq2BIa2B2XIjBk/1Gf8AzWt4TnvFyt7zmSnEFO2SJIwQ%2bMMdvc9M9tHxBYGYtVlyIPJZjKyyVEJYS0s6FTgsnrUHGeoz7b6qZaM7hJFJ%2bDsdekpfCyuuVmt9VbqukhkkxUNEyMmC4BI6kfTYd86FVdHDJd6ygqKel8ylleCVo29HMGwcfuD220aHRkzqMuOjkTY/3zBrPSzL1jJ7jfUKZSpIYFSPYjB0SKmzUdOWaRH5i4Eao2VYZ656H6a63Omgq6iGERRzOzGPmJ5/TtjGcnO537baUkgy%2bPUo9VzLbxb8L14atdHf7RGWpECw1yAflnosg7Hoe%2bPnWFpShiBT40bOEPGG1XXhOvtnGtO0tSsLRMix/wB4D6SmOiv85wPfbpoHXBaW2cQVlBbqlqmgV%2banlZeVuRgCAw/UM4PcHRF9zU9HcS7t9uqK6huMlJDJNJHEFHKQAATkk57DV5wnDc6e2VEcVWqRmVVlhxvuN8N7bbE6fwdbEu1kkp6W4Rw1bPJJIpYZ5EUYUgnJDAscgEenfU%2bqEyXRqV0ppUCRRqxbMjEgegsANvcKASPvoBrO0wahbUh%2bPyv2FCh8a7TTk0lwtVZSSQjkUxlZFyBgbbEDYfOglbCGSaW4FDLLK0jNzHBLEsdx9dayuoKihlq0p6lKmJXkU%2bdEGQ8pwdt8Y6aHF6lhMVFBTsssiSMzqPSPMLhAv2B%2b%2biCvU501L0r/AFC3wNfrBa2n/jxdlnjVUeWm81NyS24B7awfFMdLcOOLqtGphtDP5sRgXkUIqbMAR7nJ0yGtlqKBJkeNWgdXCgbMFO%2bR7jp864VTXKENUwpSuJlAZXzkAdBv8DbSN7iUwBtsbDiM8aQjcY3Wvjijhm/GmBhEvKrhRjmI92ONz76x0n81lnfeXAGfnGlpaZOJqycyRDPLCyvFI6OBsyMVI/cak091rqSr/GR1UzTK6yHncsHK4IDb7jbGlpaaIQDsZp7Team70034lY1Jy5MYIyc5Od/nWR4epkul0poqssY355GCnGSAzD9sjS0tSHcu3Ky/kiSOqukcYCIxMmF2A9Q2GOg7a71k8hABOwUY%2b2lpampsTgPW0//Z' /%3e%3c/svg%3e" width="860" data-src="/assets/static/harrison-broadbent-hSHNPyND_dU-unsplash.07cc2b7.5996aa4a3c02c6d466de62296f38df5a.jpg" data-srcset="/assets/static/harrison-broadbent-hSHNPyND_dU-unsplash.a67b0b2.5996aa4a3c02c6d466de62296f38df5a.jpg 480w, /assets/static/harrison-broadbent-hSHNPyND_dU-unsplash.07cc2b7.5996aa4a3c02c6d466de62296f38df5a.jpg 860w" data-sizes="(max-width: 860px) 100vw, 860px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/harrison-broadbent-hSHNPyND_dU-unsplash.07cc2b7.5996aa4a3c02c6d466de62296f38df5a.jpg" class="g-image g-image--loaded" width="860" alt="Cover image"></noscript><div class="post__header-credits">
        Image credits: <span><a href='https://unsplash.com/@harrisonbroadbent'>Harrison Broadbent</a></span></div></div><div class="post__content"><p>To cut a long story short, I won a FREE <a href="https://www.raspberrypi.org/products/raspberry-pi-zero/" target="_blank" rel="nofollow noopener noreferrer">Raspberry Pi Zero</a> from <a href="http://google.com/" target="_blank" rel="nofollow noopener noreferrer">Google</a> at <a href="https://ndc-london.com/" target="_blank" rel="nofollow noopener noreferrer">NDC London</a> in one of the giveaways they were hosting. In all honesty, I'd never really acquainted myself much with Raspberry Pi's before this happened and always saw myself as someone who was more interested in the web development sphere as opposed to creating little gadgets like the famous <a href="https://www.raspberrypi.org/blog/magic-mirror/" target="_blank" rel="nofollow noopener noreferrer">magic mirrors</a>.</p>
<p>However, given that I won one for free, it seemed almost rude not to read up more about them and then come up with an idea of some sort to try and push its boundaries (which seemed right given that I won a Pi Zero - which is a smaller more limited and streamlined version of the original that is slightly less powerful).</p>
<h2 id="so-what-did-i-create-with-my-raspberry-pi-zero"><a href="#so-what-did-i-create-with-my-raspberry-pi-zero" aria-hidden="true"><span class="icon icon-link"></span></a>So, what did I create with my Raspberry Pi Zero?</h2>
<p>Being a C# fan, the first thing I obviously did - whilst trapped at London Euston station - was to see if I could run <a href="https://dotnet.microsoft.com/download" target="_blank" rel="nofollow noopener noreferrer">.NET Core</a> on it. Unfortunately the Raspberry Pi Zero's come with an ARM CPU chip as opposed to their more powerful daddy Pi counter-parts which meant that I could only run the <a href="https://www.mono-project.com/" target="_blank" rel="nofollow noopener noreferrer">Mono framework</a> on my Pi Zero. I wasn't too disheartened by this as at the end of the day, whilst the popularity of IoT devices within the .NET Core development world is only going to grow exponentially, this type of scenario was exactly what Mono was initially made for.</p>
<p>I created an application that queried a publicly facing API (it is one of the new Pi Zero W's so it has built in Wi-Fi) running on a job at midnight every day to fetch times and in return schedule jobs to play an audio file at those times. Simple, right?</p>
<p>The foresight is to eventually add customisability to this where I can set an alarm every morning through my own created web interface (that I would probably access via my mobile phone) and then my Raspberry Pi Zero connected to a USB speaker would essentially become my alarm clock. Again, not very exciting but given my lack of creativity in terms of ideas, it was still a very fulfilling process to learn about how Raspberry Pi's work along with the <a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="nofollow noopener noreferrer">NOOBS/Raspbian</a> eco-system the community has built around them alongside learning from some of the difficulties faced with installing Mono on the Pi (hint: it's not enough to just sudo apt get mono, you need mono-complete otherwise you get exceptions about core dependencies being unavailable such as System.Web... eek!) as well as the annoying issue that this post revolves around.</p>
<h2 id="whats-the-audio-confusion-issue"><a href="#whats-the-audio-confusion-issue" aria-hidden="true"><span class="icon icon-link"></span></a>What's the Audio confusion issue?</h2>
<p>As said in the previous section, my Mono application schedules different jobs to run at different times and play an audio file. I initially started out my implementation by using the original <a href="https://docs.microsoft.com/en-us/dotnet/api/system.media.soundplayer?view=netframework-4.7.2" target="_blank" rel="nofollow noopener noreferrer">SoundPlayer</a> class that is found in the <a href="https://docs.microsoft.com/en-us/dotnet/framework/" target="_blank" rel="nofollow noopener noreferrer">.NET Framework</a> and during development on my Windows machine within JetBrains Rider, this worked fine both in debug and release.</p>
<p>However, upon running my application on my Raspberry Pi Zero... no luck. My application logs were suggesting that there were no exceptions being thrown or errors at hand, however whilst I could play the same audio files on my Pi in VLC Player, they just weren't being played when triggered through my application.</p>
<p>It eventually became evident that there was clearly an incompatibility issue with the System.Media SoundPlayer class and my Raspberry Pi Zero. This meant I had to look for alternative ways to trigger a .wav file to be played on my Pi and I decided to just use the built in audio player within the operating system by triggering a bash command of "aplay <em>name-of-file</em>.wav". This worked.</p>
<p>After thinking everything was dandy, I then realised that all this time, the audio I was hearing during testing on my Pi wasn't actually coming from the plugged in USB speakers. It was coming from the built-in speakers in my overhead projector that I was using as my Raspberry Pi Zero's monitor connected via HDMI! (I now have my Pi SSH'd on my main PC so I don't need to worry about a UI, but I left that until the end... silly me!)</p>
<p>So, what was happening was that aplay configures itself at OS startup to match the settings within a configuration file (alsa.conf) that can be found at (/usr/share/alsa). By typing aplay -l (lowercase l, not uppercase), you get displayed all the recognised audio devices that aplay <em>could</em> potentially be outputting audio to.</p>
<pre class="language-bash"><code class="language-bash">pi@raspberrypi:~ $ aplay -l
**** List of PLAYBACK Hardware Devices ****
card <span class="token number">0</span>: ALSA <span class="token punctuation">[</span>bcm2835 ALSA<span class="token punctuation">]</span>, device <span class="token number">0</span>: bcm2835 ALSA <span class="token punctuation">[</span>bcm2835 ALSA<span class="token punctuation">]</span>
  Subdevices: <span class="token number">7</span>/7
  Subdevice <span class="token comment">#0: subdevice #0</span>
  Subdevice <span class="token comment">#1: subdevice #1</span>
  Subdevice <span class="token comment">#2: subdevice #2</span>
  Subdevice <span class="token comment">#3: subdevice #3</span>
  Subdevice <span class="token comment">#4: subdevice #4</span>
  Subdevice <span class="token comment">#5: subdevice #5</span>
  Subdevice <span class="token comment">#6: subdevice #6</span>
card <span class="token number">0</span>: ALSA <span class="token punctuation">[</span>bcm2835 ALSA<span class="token punctuation">]</span>, device <span class="token number">1</span>: bcm2835 ALSA <span class="token punctuation">[</span>bcm2835 IEC958/HDMI<span class="token punctuation">]</span>
  Subdevices: <span class="token number">1</span>/1
  Subdevice <span class="token comment">#0: subdevice #0</span>
card <span class="token number">1</span>: Device <span class="token punctuation">[</span>USB2.0 Device<span class="token punctuation">]</span>, device <span class="token number">0</span>: USB Audio <span class="token punctuation">[</span>USB Audio<span class="token punctuation">]</span>
  Subdevices: <span class="token number">1</span>/1
  Subdevice <span class="token comment">#0: subdevice #0</span></code></pre>
<p>They are grouped by card and then by device. So in my case, the configuration file was set to card: 0 and device: 0 by default. This meant that aplay would always try to play audio to the default audio device within my Pi (even when none exists/is connected) as opposed to card: 1, device: 0 which was my USB speakers.</p>
<pre class="language-json"><code class="language-json">defaults.pcm.card <span class="token number">0</span> <span class="token comment">// In my case, I changed this to 1.</span>
defaults.pcm.device <span class="token number">0</span></code></pre>
<p>Silly, right? Well, perhaps that's the wrong terminology to use. But it would be nice if this sort of thing <em>magically</em> correlated to the operating system's default audio output setting which in my case was set to not be HDMI.</p>
<p>No idea if this will help anyone in the future? But I certainly would've liked Father Google to have blessed me with these minor pointers a week or so ago.</p>
<p>Au revoir!</p>
</div><div class="post__footer"><div class="post-tags"><a href="/blog/tag/Miscellaneous/" class="post-tags__link"><span>#</span> Miscellaneous
  </a></div></div></div><div><div class="coffee__container"><h4>Enjoyed this blog post? üòÑ</h4><a href="https://www.buymeacoffee.com/karam" target="_blank"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee :)&emoji=&slug=karam&button_colour=FFDD00&font_colour=000000&font_family=Comic&outline_colour=000000&coffee_colour=ffffff"></a></div></div><div class="post-comments"><div class="content-box__comments"><div id="disqus_thread" identifier="My Raspberry Pi Zero &amp; the USB Audio Confusion" style="min-height:200px;"></div></div></div></main><footer class="footer"><span>Made with
      <span style="color: red"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-heart fa-w-16"><path fill="currentColor" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path></svg></span>
      in wet &amp; rainy
      <a href="//en.wikipedia.org/wiki/Lancashire" target="_blank">Lancashire</a>!</span><br><span>¬© Copyright 2021 -
      <a href="//karam.io">Karam.io</a></span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"My Raspberry Pi Zero & the USB Audio Confusion","path":"\u002Fblog\u002F2019\u002Fmy-raspberry-pi-zero-and-the-usb-audio-confusion\u002F","date":"17 February 2019","timeToRead":4,"tags":[{"id":"Miscellaneous","title":"Miscellaneous","path":"\u002Fblog\u002Ftag\u002FMiscellaneous\u002F"}],"description":"So... I won a free Raspberry Pi Zero from Google! Then I bought some USB speakers for it and chaos ensued!","content":"\u003Cp\u003ETo cut a long story short, I won a FREE \u003Ca href=\"https:\u002F\u002Fwww.raspberrypi.org\u002Fproducts\u002Fraspberry-pi-zero\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ERaspberry Pi Zero\u003C\u002Fa\u003E from \u003Ca href=\"http:\u002F\u002Fgoogle.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EGoogle\u003C\u002Fa\u003E at \u003Ca href=\"https:\u002F\u002Fndc-london.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ENDC London\u003C\u002Fa\u003E in one of the giveaways they were hosting. In all honesty, I'd never really acquainted myself much with Raspberry Pi's before this happened and always saw myself as someone who was more interested in the web development sphere as opposed to creating little gadgets like the famous \u003Ca href=\"https:\u002F\u002Fwww.raspberrypi.org\u002Fblog\u002Fmagic-mirror\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Emagic mirrors\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, given that I won one for free, it seemed almost rude not to read up more about them and then come up with an idea of some sort to try and push its boundaries (which seemed right given that I won a Pi Zero - which is a smaller more limited and streamlined version of the original that is slightly less powerful).\u003C\u002Fp\u003E\n\u003Ch2 id=\"so-what-did-i-create-with-my-raspberry-pi-zero\"\u003E\u003Ca href=\"#so-what-did-i-create-with-my-raspberry-pi-zero\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESo, what did I create with my Raspberry Pi Zero?\u003C\u002Fh2\u003E\n\u003Cp\u003EBeing a C# fan, the first thing I obviously did - whilst trapped at London Euston station - was to see if I could run \u003Ca href=\"https:\u002F\u002Fdotnet.microsoft.com\u002Fdownload\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E.NET Core\u003C\u002Fa\u003E on it. Unfortunately the Raspberry Pi Zero's come with an ARM CPU chip as opposed to their more powerful daddy Pi counter-parts which meant that I could only run the \u003Ca href=\"https:\u002F\u002Fwww.mono-project.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EMono framework\u003C\u002Fa\u003E on my Pi Zero. I wasn't too disheartened by this as at the end of the day, whilst the popularity of IoT devices within the .NET Core development world is only going to grow exponentially, this type of scenario was exactly what Mono was initially made for.\u003C\u002Fp\u003E\n\u003Cp\u003EI created an application that queried a publicly facing API (it is one of the new Pi Zero W's so it has built in Wi-Fi) running on a job at midnight every day to fetch times and in return schedule jobs to play an audio file at those times. Simple, right?\u003C\u002Fp\u003E\n\u003Cp\u003EThe foresight is to eventually add customisability to this where I can set an alarm every morning through my own created web interface (that I would probably access via my mobile phone) and then my Raspberry Pi Zero connected to a USB speaker would essentially become my alarm clock. Again, not very exciting but given my lack of creativity in terms of ideas, it was still a very fulfilling process to learn about how Raspberry Pi's work along with the \u003Ca href=\"https:\u002F\u002Fwww.raspberrypi.org\u002Fdownloads\u002Fraspbian\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ENOOBS\u002FRaspbian\u003C\u002Fa\u003E eco-system the community has built around them alongside learning from some of the difficulties faced with installing Mono on the Pi (hint: it's not enough to just sudo apt get mono, you need mono-complete otherwise you get exceptions about core dependencies being unavailable such as System.Web... eek!) as well as the annoying issue that this post revolves around.\u003C\u002Fp\u003E\n\u003Ch2 id=\"whats-the-audio-confusion-issue\"\u003E\u003Ca href=\"#whats-the-audio-confusion-issue\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWhat's the Audio confusion issue?\u003C\u002Fh2\u003E\n\u003Cp\u003EAs said in the previous section, my Mono application schedules different jobs to run at different times and play an audio file. I initially started out my implementation by using the original \u003Ca href=\"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fdotnet\u002Fapi\u002Fsystem.media.soundplayer?view=netframework-4.7.2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ESoundPlayer\u003C\u002Fa\u003E class that is found in the \u003Ca href=\"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fdotnet\u002Fframework\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E.NET Framework\u003C\u002Fa\u003E and during development on my Windows machine within JetBrains Rider, this worked fine both in debug and release.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, upon running my application on my Raspberry Pi Zero... no luck. My application logs were suggesting that there were no exceptions being thrown or errors at hand, however whilst I could play the same audio files on my Pi in VLC Player, they just weren't being played when triggered through my application.\u003C\u002Fp\u003E\n\u003Cp\u003EIt eventually became evident that there was clearly an incompatibility issue with the System.Media SoundPlayer class and my Raspberry Pi Zero. This meant I had to look for alternative ways to trigger a .wav file to be played on my Pi and I decided to just use the built in audio player within the operating system by triggering a bash command of \"aplay \u003Cem\u003Ename-of-file\u003C\u002Fem\u003E.wav\". This worked.\u003C\u002Fp\u003E\n\u003Cp\u003EAfter thinking everything was dandy, I then realised that all this time, the audio I was hearing during testing on my Pi wasn't actually coming from the plugged in USB speakers. It was coming from the built-in speakers in my overhead projector that I was using as my Raspberry Pi Zero's monitor connected via HDMI! (I now have my Pi SSH'd on my main PC so I don't need to worry about a UI, but I left that until the end... silly me!)\u003C\u002Fp\u003E\n\u003Cp\u003ESo, what was happening was that aplay configures itself at OS startup to match the settings within a configuration file (alsa.conf) that can be found at (\u002Fusr\u002Fshare\u002Falsa). By typing aplay -l (lowercase l, not uppercase), you get displayed all the recognised audio devices that aplay \u003Cem\u003Ecould\u003C\u002Fem\u003E potentially be outputting audio to.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Epi@raspberrypi:~ $ aplay -l\n**** List of PLAYBACK Hardware Devices ****\ncard \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E: ALSA \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Ebcm2835 ALSA\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E, device \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E: bcm2835 ALSA \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Ebcm2835 ALSA\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\n  Subdevices: \u003Cspan class=\"token number\"\u003E7\u003C\u002Fspan\u003E\u002F7\n  Subdevice \u003Cspan class=\"token comment\"\u003E#0: subdevice #0\u003C\u002Fspan\u003E\n  Subdevice \u003Cspan class=\"token comment\"\u003E#1: subdevice #1\u003C\u002Fspan\u003E\n  Subdevice \u003Cspan class=\"token comment\"\u003E#2: subdevice #2\u003C\u002Fspan\u003E\n  Subdevice \u003Cspan class=\"token comment\"\u003E#3: subdevice #3\u003C\u002Fspan\u003E\n  Subdevice \u003Cspan class=\"token comment\"\u003E#4: subdevice #4\u003C\u002Fspan\u003E\n  Subdevice \u003Cspan class=\"token comment\"\u003E#5: subdevice #5\u003C\u002Fspan\u003E\n  Subdevice \u003Cspan class=\"token comment\"\u003E#6: subdevice #6\u003C\u002Fspan\u003E\ncard \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E: ALSA \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Ebcm2835 ALSA\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E, device \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E: bcm2835 ALSA \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Ebcm2835 IEC958\u002FHDMI\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\n  Subdevices: \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u002F1\n  Subdevice \u003Cspan class=\"token comment\"\u003E#0: subdevice #0\u003C\u002Fspan\u003E\ncard \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E: Device \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003EUSB2.0 Device\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E, device \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E: USB Audio \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003EUSB Audio\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\n  Subdevices: \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u002F1\n  Subdevice \u003Cspan class=\"token comment\"\u003E#0: subdevice #0\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThey are grouped by card and then by device. So in my case, the configuration file was set to card: 0 and device: 0 by default. This meant that aplay would always try to play audio to the default audio device within my Pi (even when none exists\u002Fis connected) as opposed to card: 1, device: 0 which was my USB speakers.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003Edefaults.pcm.card \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"token comment\"\u003E\u002F\u002F In my case, I changed this to 1.\u003C\u002Fspan\u003E\ndefaults.pcm.device \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ESilly, right? Well, perhaps that's the wrong terminology to use. But it would be nice if this sort of thing \u003Cem\u003Emagically\u003C\u002Fem\u003E correlated to the operating system's default audio output setting which in my case was set to not be HDMI.\u003C\u002Fp\u003E\n\u003Cp\u003ENo idea if this will help anyone in the future? But I certainly would've liked Father Google to have blessed me with these minor pointers a week or so ago.\u003C\u002Fp\u003E\n\u003Cp\u003EAu revoir!\u003C\u002Fp\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fjpeg","src":"\u002Fassets\u002Fstatic\u002Fharrison-broadbent-hSHNPyND_dU-unsplash.07cc2b7.5996aa4a3c02c6d466de62296f38df5a.jpg","size":{"width":860,"height":484},"sizes":"(max-width: 860px) 100vw, 860px","srcset":["\u002Fassets\u002Fstatic\u002Fharrison-broadbent-hSHNPyND_dU-unsplash.a67b0b2.5996aa4a3c02c6d466de62296f38df5a.jpg 480w","\u002Fassets\u002Fstatic\u002Fharrison-broadbent-hSHNPyND_dU-unsplash.07cc2b7.5996aa4a3c02c6d466de62296f38df5a.jpg 860w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 860 484' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-5b291a26f13b3980c77f28e7c0d33083'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-5b291a26f13b3980c77f28e7c0d33083)' width='860' height='484' xlink:href='data:image\u002Fjpeg%3bbase64%2c\u002F9j\u002F2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj\u002F2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj\u002FwAARCAAkAEADASIAAhEBAxEB\u002F8QAGwAAAQUBAQAAAAAAAAAAAAAABwACBAUGAwj\u002FxAAyEAACAQMCBAUCBAcBAAAAAAABAgMEBREAIQYSMWEHEyJBUXGRFDNSgRUjMjSCkrHR\u002F8QAGAEAAwEBAAAAAAAAAAAAAAAAAQIDBAD\u002FxAAjEQACAgEEAQUBAAAAAAAAAAABAgARAwQhMUESIlFhseHw\u002F9oADAMBAAIRAxEAPwCu8SeJbbbaethhqoBVU3L5wDevLH8uMfrxkk9FHcjXnaouM1VXSzRxohcnlVRsg7Z\u002F7pt0uNRdarzJuUHAAVRgDv8AX5OptrocYZhk65RURiO5ztttmmqYwf65GCj6k40T%2bJLPTy08UdrooVMDMjYUIWChR\u002Flg5JY4O\u002FwNZq2BIa2B2XIjBk\u002F1Gf8AzWt4TnvFyt7zmSnEFO2SJIwQ%2bMMdvc9M9tHxBYGYtVlyIPJZjKyyVEJYS0s6FTgsnrUHGeoz7b6qZaM7hJFJ%2bDsdekpfCyuuVmt9VbqukhkkxUNEyMmC4BI6kfTYd86FVdHDJd6ygqKel8ylleCVo29HMGwcfuD220aHRkzqMuOjkTY\u002F3zBrPSzL1jJ7jfUKZSpIYFSPYjB0SKmzUdOWaRH5i4Eao2VYZ656H6a63Omgq6iGERRzOzGPmJ5\u002FTtjGcnO537baUkgy%2bPUo9VzLbxb8L14atdHf7RGWpECw1yAflnosg7Hoe%2bPnWFpShiBT40bOEPGG1XXhOvtnGtO0tSsLRMix\u002FwB4D6SmOiv85wPfbpoHXBaW2cQVlBbqlqmgV%2banlZeVuRgCAw\u002FUM4PcHRF9zU9HcS7t9uqK6huMlJDJNJHEFHKQAATkk57DV5wnDc6e2VEcVWqRmVVlhxvuN8N7bbE6fwdbEu1kkp6W4Rw1bPJJIpYZ5EUYUgnJDAscgEenfU%2bqEyXRqV0ppUCRRqxbMjEgegsANvcKASPvoBrO0wahbUh%2bPyv2FCh8a7TTk0lwtVZSSQjkUxlZFyBgbbEDYfOglbCGSaW4FDLLK0jNzHBLEsdx9dayuoKihlq0p6lKmJXkU%2bdEGQ8pwdt8Y6aHF6lhMVFBTsssiSMzqPSPMLhAv2B%2b%2biCvU501L0r\u002FAFC3wNfrBa2n\u002FjxdlnjVUeWm81NyS24B7awfFMdLcOOLqtGphtDP5sRgXkUIqbMAR7nJ0yGtlqKBJkeNWgdXCgbMFO%2bR7jp864VTXKENUwpSuJlAZXzkAdBv8DbSN7iUwBtsbDiM8aQjcY3Wvjijhm\u002FGmBhEvKrhRjmI92ONz76x0n81lnfeXAGfnGlpaZOJqycyRDPLCyvFI6OBsyMVI\u002Fcak091rqSr\u002FGR1UzTK6yHncsHK4IDb7jbGlpaaIQDsZp7Team70034lY1Jy5MYIyc5Od\u002FnWR4epkul0poqssY355GCnGSAzD9sjS0tSHcu3Ky\u002FkiSOqukcYCIxMmF2A9Q2GOg7a71k8hABOwUY%2b2lpampsTgPW0\u002F\u002FZ' \u002F%3e%3c\u002Fsvg%3e"},"cover_image_credits":"\u003Ca href='https:\u002F\u002Funsplash.com\u002F@harrisonbroadbent'\u003EHarrison Broadbent\u003C\u002Fa\u003E"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.24c85096.js" defer></script><script src="/assets/js/page--src--templates--post-vue.4ba5e1d2.js" defer></script>
  </body>
</html>